# 💸 Multi-Level Referral & Earning System with Real-Time Updates

### ✅ Backend Implementation Complete

This backend project implements a **multi-level referral and profit-sharing system** that supports **live earnings updates** for users based on referral hierarchy and purchase activity.

---

## 🧠 System Overview

The system allows users to refer up to **8 direct referrals**, with earnings distributed across **multiple levels**. Earnings are automatically calculated and updated in real-time whenever purchases are made by referred users.

---

## 💰 Profit Distribution Logic

### 🔹 Level 1 (Direct Referrals)
- Earn **5%** of the profit from direct referrals (Level 1 users).

### 🔹 Level 2 (Indirect Referrals)
- Earn **1%** of the profit generated by Level 2 users (referrals of Level 1 users).

### 📝 Conditions:
- Profits apply **only when purchases exceed ₹1000**.
- Earnings are calculated and updated in **real-time**.

---

## 🧱 System Architecture

### 1. Multi-Level Referral Logic
- Maximum of **8 direct referrals** per user.
- Scalable tree-based hierarchy for managing referrals and calculating earnings.

### 2. Profit Tracking & Distribution
- **Level 1**: 5% profit
- **Level 2**: 1% profit
- Purchases under ₹1000 are **excluded** from profit distribution.

---

## 🗃️ Database Design

### 🧑‍🤝‍🧑 Users Table
- Stores user profile and referral hierarchy.
- Maintains parent-child relationships up to two levels.

### 💵 Earnings Table
- Stores transaction history.
- Records direct and indirect earnings with referral details.

---

## 📡 Live Data Feed

Real-time updates using **WebSockets or Server-Sent Events (SSE)** to notify parent users of:
- Direct earnings
- Indirect earnings

⚡ **No page refresh or API call required!**

---

## 📊 Reports & Analytics

### 🔍 APIs
- Real-time earnings per user.
- Detailed breakdown of earnings by level and referral.

### 📈 Visualizations
- Referral tree earnings distribution.
- Leg-wise earnings breakdown.

---

## 🔒 Additional Requirements

- ✅ Purchase validation for minimum ₹1000
- 🛑 Edge case handling: inactive users, referral limits, invalid hierarchies
- 🔐 User data privacy and secure handling

---

## 🎁 Bonus Features

- 📲 **Real-Time Notifications** for every profit event
- 📑 **Well-structured APIs** for reports and dashboard integration

---

## 📦 Deliverables

- ✅ Fully working referral & earning system
- 🔁 Real-time updates for user earnings
- 🗂️ Users & Earnings database schemas
- 🧪 APIs for profit reports and referral analytics
- 📘 Complete documentation (setup, logic, and API guide)
